<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GhostPad</title>
  <link rel="stylesheet" href="src/css/styles.css">
  <link rel="stylesheet" href="src/css/tema-claro.css">
  <link rel="stylesheet" href="src/css/tema-escuro.css">
  <link rel="stylesheet" href="src/css/update-ui.css">
  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="tema-claro">
  <!-- Indicadores de redimensionamento -->
  <div class="resize-handle top"></div>
  <div class="resize-handle right"></div>
  <div class="resize-handle bottom"></div>
  <div class="resize-handle left"></div>
  <div class="resize-handle corner top-left"></div>
  <div class="resize-handle corner top-right"></div>
  <div class="resize-handle corner bottom-left"></div>
  <div class="resize-handle corner bottom-right"></div>

  <div class="window-controls">
    <button class="window-control minimize" id="minimize-btn">
      <i class="fas fa-minus"></i>
    </button>
    <button class="window-control maximize" id="maximize-btn">
      <i class="fas fa-square"></i>
    </button>
    <button class="window-control close" id="close-btn">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <button class="hamburger-btn">
    <i class="fas fa-bars"></i>
  </button>

  <div class="menu-lateral">
    <header>
      <h2>Menu</h2>
    </header>
    <ul>
      <li id="menu-inicio"><i class="fas fa-home"></i> Início</li>
                  <li id="menu-verificar-atualizacoes"><i class="fas fa-download"></i> Verificar Atualizações</li>
      <li id="menu-configuracoes"><i class="fas fa-cog"></i> Configurações</li>
      <li id="menu-sobre"><i class="fas fa-info-circle"></i> Sobre</li>
    </ul>
    <div class="menu-footer">
      <div class="versao-app">
        <small>GhostPad v<span id="app-version">...</span></small>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="header">
      <div class="projeto-info" id="projeto-info">
        <img src="src/images/logo.png" alt="GhostPad Logo" class="logo">
        <span>GhostPad</span>
      </div>
      <div>
        <div class="tema-dropdown">
          <button class="tema-dropdown-btn">
            <i class="fas fa-palette"></i>
            <span class="tema-texto">Tema</span>
            <i class="fas fa-chevron-down"></i>
          </button>
          <div class="tema-dropdown-content">
            <a href="#" data-tema="sistema"><i class="fas fa-desktop"></i> Sistema</a>
            <a href="#" data-tema="claro"><i class="fas fa-sun"></i> Claro</a>
            <a href="#" data-tema="escuro"><i class="fas fa-moon"></i> Escuro</a>
          </div>
        </div>
        <button class="btn btn-primary" id="btn-home" title="Início"><i class="fas fa-home"></i></button>
        <button class="btn btn-primary" id="novo-projeto" title="Criar novo projeto"><i class="fas fa-plus"></i></button>
        <button class="btn btn-primary" id="abrir-projeto" title="Abrir projeto existente"><i class="fas fa-folder-open"></i></button>
        <button class="btn btn-success" id="salvar" style="display: none;" title="Salvar projeto"><i class="fas fa-save"></i></button>
        <button class="btn btn-primary" id="modo-compacto" style="display: none;" title="Alternar para modo compacto"><i class="fas fa-expand"></i></button>
        <button class="btn btn-primary" id="sempre-topo" title="Manter sempre no topo"><i class="fas fa-thumbtack"></i></button>
        <button class="btn btn-danger" id="fechar-projeto" style="display: none;" title="Fechar projeto"><i class="fas fa-times"></i></button>
      </div>
    </div>
    
    <div class="conteudo-principal" id="conteudo-principal">
      <div class="editor-container" id="editor-container">
        <div class="toolbar-container">
          <button class="menu-burger" id="menu-burger" style="display: none;">
            <i class="fas fa-bars"></i>
          </button>
          <div class="toolbar">
            <button class="toolbar-btn" data-command="bold" title="Negrito"><i class="fas fa-bold"></i></button>
            <button class="toolbar-btn" data-command="italic" title="Itálico"><i class="fas fa-italic"></i></button>
            <button class="toolbar-btn" data-command="underline" title="Sublinhado"><i class="fas fa-underline"></i></button>
            <button class="toolbar-btn" data-command="strikethrough" title="Tachado"><i class="fas fa-strikethrough"></i></button>
            <div class="separator"></div>
            
            <div class="toolbar-dropdown">
              <button class="toolbar-btn" title="Fonte">
                <i class="fas fa-font"></i>
              </button>
              <div class="dropdown-menu" id="fonte-dropdown">
                <button data-command="fontName" data-value="Arial">Arial</button>
                <button data-command="fontName" data-value="Verdana">Verdana</button>
                <button data-command="fontName" data-value="Times New Roman">Times New Roman</button>
                <button data-command="fontName" data-value="Courier New">Courier New</button>
                <button data-command="fontName" data-value="Georgia">Georgia</button>
                <button data-command="fontName" data-value="Tahoma">Tahoma</button>
                <button data-command="fontName" data-value="Trebuchet MS">Trebuchet MS</button>
              </div>
            </div>
            
            <div class="toolbar-dropdown">
              <button class="toolbar-btn" title="Tamanho">
                <i class="fas fa-text-height"></i>
              </button>
              <div class="dropdown-menu">
                <button data-command="fontSize" data-value="1">8pt</button>
                <button data-command="fontSize" data-value="2">10pt</button>
                <button data-command="fontSize" data-value="3">12pt</button>
                <button data-command="fontSize" data-value="4">14pt</button>
                <button data-command="fontSize" data-value="5">18pt</button>
                <button data-command="fontSize" data-value="6">24pt</button>
                <button data-command="fontSize" data-value="7">36pt</button>
              </div>
            </div>
            
            <div class="separator"></div>
            <button class="toolbar-btn" data-command="justifyLeft" title="Alinhar à esquerda"><i class="fas fa-align-left"></i></button>
            <button class="toolbar-btn" data-command="justifyCenter" title="Centralizar"><i class="fas fa-align-center"></i></button>
            <button class="toolbar-btn" data-command="justifyRight" title="Alinhar à direita"><i class="fas fa-align-right"></i></button>
            <div class="separator"></div>
            <button class="toolbar-btn" data-command="removeFormat" title="Limpar formatação"><i class="fas fa-remove-format"></i></button>
            <div class="separator"></div>
            <button class="toolbar-btn" data-command="insertUnorderedList" title="Lista não ordenada"><i class="fas fa-list-ul"></i></button>
            <button class="toolbar-btn" data-command="insertOrderedList" title="Lista ordenada"><i class="fas fa-list-ol"></i></button>
            <div class="separator"></div>
            <div class="toolbar-dropdown">
              <button class="toolbar-btn" title="Títulos">
                <i class="fas fa-heading"></i>
              </button>
              <div class="dropdown-menu">
                <button data-command="formatBlock" data-value="h1">Título 1</button>
                <button data-command="formatBlock" data-value="h2">Título 2</button>
                <button data-command="formatBlock" data-value="h3">Título 3</button>
              </div>
            </div>
            <div class="separator"></div>
            <div class="teleprompter-controls">
              <div class="controle-grupo">
                <div class="controle-velocidade">
                  <i class="fas fa-tachometer-alt" title="Velocidade"></i>
                  <input type="number" id="velocidade-teleprompter" min="0.25" max="10" step="any" value="5" title="Velocidade">
                </div>
                <div class="controle-contagem">
                  <i class="fas fa-clock" title="Contagem regressiva em segundos"></i>
                  <input type="number" id="contagem-regressiva-input" min="0" max="10" value="0" title="Contagem regressiva em segundos">
                </div>
                <div class="controle-destaque">
                  <label class="toggle-switch" title="Ativar/desativar destaque">
                    <input type="checkbox" id="destaque-toggle" checked>
                    <span class="toggle-slider">
                      <i class="fas fa-highlighter toggle-icon ativo"></i>
                      <i class="fas fa-ban toggle-icon inativo"></i>
                    </span>
                  </label>
                </div>
              </div>
              <div class="controle-botoes">
                <button class="toolbar-btn btn-teleprompter" id="btn-iniciar-teleprompter" title="Iniciar teleprompter">
                  <i class="fas fa-play"></i>
                </button>
                <button class="toolbar-btn btn-teleprompter" id="btn-pausar-teleprompter" title="Pausar teleprompter" style="display: none;">
                  <i class="fas fa-pause"></i>
                </button>
                <button class="toolbar-btn" id="btn-reiniciar-teleprompter" title="Reiniciar teleprompter" style="display: none;">
                  <i class="fas fa-undo"></i>
                </button>
                <button class="toolbar-btn" id="btn-info-teleprompter" title="Atalhos de teclado">
                  <i class="fas fa-keyboard"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="indicador-leitura">
          <div class="linha-atual"></div>
        </div>
        <div id="editor" class="editor" contenteditable="true"></div>
        <div class="marcador-texto" id="marcador-texto"></div>
        <div class="indicador-foco" id="indicador-foco"></div>
        <div class="contagem-regressiva" id="contagem-regressiva">3</div>
        <div class="status-bar" id="status-bar">
          <span>Pronto</span>
          <span class="versao-status">GhostPad v<span id="app-version-status">...</span></span>
        </div>
      </div>
      
      <div class="painel-lateral" id="painel-lateral">
        <div class="projeto-info-container" id="projeto-info-container">
          <h3>Detalhes do Projeto</h3>
          <p><strong>Nome:</strong> <span id="projeto-nome-display"></span></p>
          <p><strong>Observações:</strong> <span id="projeto-observacao-display"></span></p>
          <p class="data-info">Criado em: <span id="projeto-data-criacao"></span></p>
          <p class="data-info">Última modificação: <span id="projeto-ultima-modificacao"></span></p>
          <button class="btn btn-danger" id="excluir-projeto" style="display: none;"><i class="fas fa-trash"></i> Excluir Projeto</button>
        </div>
      </div>
    </div>
    
    <!-- Controle de transparência movido para após o conteúdo principal -->
    <div class="controles-container">
      <h3 class="controle-titulo">Transparência</h3>
      <div class="controle-transparencia">
        <input type="range" id="transparencia-slider" min="0.2" max="1.0" step="0.1" value="1.0" class="slider">
      </div>
    </div>
    
    <div class="bem-vindo" id="bem-vindo">
      <h2>Bem-vindo ao GhostPad</h2>
      <p>Este aplicativo permite que você crie e edite textos de forma segura, impedindo que o conteúdo seja capturado por gravadores de tela.</p>
      <p>Para começar, crie um novo projeto ou abra um projeto existente.</p>
    </div>
    
    <div class="projetos-recentes" id="projetos-recentes">
      <h3>Projetos Recentes</h3>
      <ul id="lista-projetos-recentes"></ul>
    </div>
  </div>
  
  <div class="notification" id="notification">Projeto salvo com sucesso!</div>
  
  <!-- Modais do Sistema -->
  
  <!-- Modal para novo projeto -->
  <div class="modal-overlay" id="modal-novo-projeto">
    <div class="modal">
      <div class="modal-header">
        <h2>Criar Novo Projeto</h2>
        <button type="button" class="close-button" id="fechar-modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="form-novo-projeto">
          <div class="form-group">
            <label for="nome-projeto">Nome do Projeto</label>
            <input type="text" id="nome-projeto" class="form-control" required autocomplete="off">
          </div>
          <div class="form-group">
            <label for="observacao-projeto">Observações</label>
            <textarea id="observacao-projeto" class="form-control" rows="4"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" id="cancelar-projeto">Cancelar</button>
        <button type="button" class="btn btn-success" id="criar-projeto">Criar</button>
      </div>
    </div>
  </div>

  <!-- Modal Sobre -->
  <div class="modal-overlay" id="modal-sobre">
    <div class="modal modal-info">
      <div class="modal-header">
        <h2><i class="fas fa-info-circle"></i> Sobre o GhostPad</h2>
        <button type="button" class="close-button" data-modal-close>&times;</button>
      </div>
      <div class="modal-body">
        <div class="about-content">
          <div class="about-logo">
            <img src="src/images/logo.png" alt="GhostPad" class="modal-logo">
          </div>
          <div class="about-info">
            <h3 id="about-app-name">GhostPad</h3>
            <p class="version-info">Versão <span id="about-version">...</span></p>
            <p id="about-description">Editor de texto seguro e protegido</p>
            <div class="about-details">
              <p><strong>Autor:</strong> <span id="about-author">...</span></p>
              <p><strong>Website:</strong> <a href="#" id="about-website" target="_blank">...</a></p>
              <p><strong>Copyright:</strong> <span id="about-copyright">...</span></p>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-modal-close>OK</button>
      </div>
    </div>
  </div>

  <!-- Modal Atualização Disponível -->
  <div class="modal-overlay" id="modal-update-available">
    <div class="modal modal-update">
      <div class="modal-header">
        <h2><i class="fas fa-download"></i> Atualização Disponível</h2>
        <button type="button" class="close-button" data-modal-close>&times;</button>
      </div>
      <div class="modal-body">
        <div class="update-content">
          <div class="update-info">
            <p class="update-message">
              Uma nova versão do GhostPad está disponível!
            </p>
            <div class="version-comparison">
              <div class="version-item">
                <span class="version-label">Versão Atual:</span>
                <span class="version-current" id="update-current-version">...</span>
              </div>
              <div class="version-item">
                <span class="version-label">Nova Versão:</span>
                <span class="version-new" id="update-new-version">...</span>
              </div>
            </div>
            <div class="update-description">
              <p id="update-release-notes">Confira as novidades na nova versão.</p>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-modal-close>Mais Tarde</button>
        <button type="button" class="btn btn-primary" id="btn-download-update">Atualizar Agora</button>
      </div>
    </div>
  </div>

  <!-- Modal Progresso de Download -->
  <div class="modal-overlay" id="modal-download-progress">
    <div class="modal modal-progress">
      <div class="modal-header">
        <h2><i class="fas fa-download"></i> Baixando Atualização</h2>
      </div>
      <div class="modal-body">
        <div class="progress-content">
          <p id="download-status">Preparando download...</p>
          <div class="progress-bar-container">
            <div class="progress-bar">
              <div class="progress-fill" id="download-progress-fill"></div>
            </div>
            <span class="progress-text" id="download-progress-text">0%</span>
          </div>
          <div class="download-details">
            <span id="download-speed">...</span>
            <span id="download-eta">...</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Sem Atualização -->
  <div class="modal-overlay" id="modal-no-update">
    <div class="modal modal-info">
      <div class="modal-header">
        <h2><i class="fas fa-check-circle"></i> Sem Atualizações</h2>
        <button type="button" class="close-button" data-modal-close>&times;</button>
      </div>
      <div class="modal-body">
        <div class="no-update-content">
          <p>Você já está usando a versão mais recente do GhostPad!</p>
          <p class="current-version">Versão atual: <strong id="no-update-version">...</strong></p>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-modal-close>OK</button>
      </div>
    </div>
  </div>

  <!-- Modal Erro -->
  <div class="modal-overlay" id="modal-error">
    <div class="modal modal-error">
      <div class="modal-header">
        <h2><i class="fas fa-exclamation-triangle"></i> <span id="error-title">Erro</span></h2>
        <button type="button" class="close-button" data-modal-close>&times;</button>
      </div>
      <div class="modal-body">
        <div class="error-content">
          <p id="error-message">Ocorreu um erro inesperado.</p>
          <div class="error-details" id="error-details" style="display: none;">
            <p><strong>Detalhes técnicos:</strong></p>
            <pre id="error-stack"></pre>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" id="btn-show-error-details">Mostrar Detalhes</button>
        <button type="button" class="btn btn-primary" data-modal-close>OK</button>
      </div>
    </div>
  </div>

  <!-- Modal Configuração -->
  <div class="modal-overlay" id="modal-config">
    <div class="modal modal-config">
      <div class="modal-header">
        <h2><i class="fas fa-exclamation-circle"></i> Configuração Necessária</h2>
        <button type="button" class="close-button" data-modal-close>&times;</button>
      </div>
      <div class="modal-body">
        <div class="config-content">
          <p>O sistema de atualização não está configurado corretamente.</p>
          <p>Configure o repositório GitHub em <strong>app-config.js</strong> para habilitar as atualizações automáticas.</p>
          <div class="config-example">
            <p><strong>Exemplo de configuração:</strong></p>
            <pre><code>UPDATE_CONFIG: {
  github: {
    owner: "seu-usuario",
    repo: "seu-repositorio",
    enabled: true
  }
}</code></pre>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-modal-close>Entendi</button>
      </div>
    </div>
  </div>

  <!-- Modal Confirmação -->
  <div class="modal-overlay" id="modal-confirm">
    <div class="modal modal-confirm">
      <div class="modal-header">
        <h2><i class="fas fa-question-circle"></i> <span id="confirm-title">Confirmação</span></h2>
        <button type="button" class="close-button" data-modal-close>&times;</button>
      </div>
      <div class="modal-body">
        <div class="confirm-content">
          <p id="confirm-message">Tem certeza que deseja continuar?</p>
          <p id="confirm-details" class="confirm-details"></p>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-modal-close id="confirm-cancel">Cancelar</button>
        <button type="button" class="btn btn-danger" id="confirm-ok">Confirmar</button>
      </div>
    </div>
  </div>
  
  <script src="src/js/modal-close-fix.js"></script>
  <script src="src/js/modal-manager.js"></script>
  <script src="src/js/renderer.js"></script>
  <script src="src/js/editor.js"></script>
  <script src="src/js/script.js"></script>
  <script src="src/js/update-ui.js"></script>
</body>
</html> 